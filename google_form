<!DOCTYPE html>
<html>
    <head>
        <style>
            #footer {
                position: absolute;
                bottom: 10px;;
                left: 10px;
            }
        </style>
        <title>
            HTML Form
        </title>
    </head>
    <body>
        <form id="form" > 

            <br>
            <label for="fn"> First Name : </label>
            <input type="text" id="fn" name="fn">
            <br>

            <br>
            <label for="ln"> Last Name : </label>
            <input type="text" id="ln" name="ln">
            <br>

            <br>
            Date of Birth : <br>

            <input type="date" id="dob" name="dob" min="1901-01-01">

            <script>
                var today = new Date();
                var dd = today.getDate();
                var mm = today.getMonth() + 1;
                var yy = today.getUTCFullYear();

                if(dd < 10)
                {
                    dd = '0' +dd;
                }
                if(mm < 10)
                {
                    mm = '0' +mm;
                }
                
                today = yy + '-' + mm + '-' + dd;
                document.getElementById("dob").setAttribute("max", today);
            </script>
            <br>
            <br>
            Hobbies : 
            <br>
            <label for="badminton"> Badminton</label>
            <input type="checkbox" id="badminton" name="badminton">
            
            <label for="cricket"> Cricket</label>
            <input type="checkbox" id="cricket" name="cricket">
            
            <label for="volleyball"> Volleyball</label>
            <input type="checkbox" id="volleyball" name="volleyball">
            <br>
            
            <input type="submit" value="Submit">
        </form>
        
        <div id="footer">
            
        <span id = "output"></span>
        </div>
        
    </body>
    <script>
        var form = document.getElementById('form')

        form.addEventListener('submit', function(event) {
            event.preventDefault()

            var fn = document.getElementById('fn').value
            var ln = document.getElementById('ln').value
            var idob = document.getElementById('dob').value
            const badminton = document.querySelector('#badminton')
            const cricket = document.querySelector('#cricket')
            const volleyball = document.querySelector('#volleyball')
            
            if(fn == "" || ln == "" || dob == "" || (badminton.checked == false && cricket.checked == false && volleyball.checked == false))
            {
                alert("fields are empty, pls fill all fields");
            }
            else{ 
            
            var dob = new Date(idob)
            var month_diff = Date.now() - dob.getTime();
            var age_dt = new Date(month_diff)
            var year_diff = age_dt.getUTCFullYear();
            var age = Math.abs(year_diff - 1970)
            console.log();
            console.log()
            
            var hobb = ""
            if(badminton.checked) {
                hobb = hobb + "badminton  "
            }
            if(cricket.checked) {
                hobb = hobb + "cricket  "
            }
            if(volleyball.checked) {
                hobb = hobb + "volleyball  "
            }
            var finaloutput = "<h2>Results</h2>" +  "First Name : " + fn + "<br>Last Name : " + ln + "<br>DOB : " + idob + "<br>Age : " + age + "<br>Hobbies : " + hobb;
            output.innerHTML = finaloutput
        }
        document.getElementById("form").reset();
        })
    </script>
</html>
